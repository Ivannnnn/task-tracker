{"version":3,"sources":["serviceWorker.js","components/Input.js","utils.js","db/db.js","db/repository.js","hooks.js","db/models/utils.js","db/models/ProjectModel.js","pages/ProjectsPage.js","components/Estimate/durationPicker/utils.js","components/Estimate/Estimate.js","components/Estimate/durationPicker/durationPicker.js","components/NotFound.js","db/models/TaskModel.js","components/ChildListObserver.js","pages/TasksPage.js","pages/StatisticsPage/ByDay.js","pages/StatisticsPage/ByProject.js","pages/StatisticsPage/StatisticsPage.js","index.js"],"names":["isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","console","log","onUpdate","onSuccess","catch","error","Input","onChange","type","props","e","target","value","padZero","val","n","toString","length","slice","startOfDay","date","Date","setHours","secsToTime","secs","mm","getTime","substr","Math","floor","join","keyBy","collection","key","result","forEach","item","classes","args","map","arg","undefined","Object","keys","filter","sortStrategies","asc","a","b","desc","arraySwap","arr","from","to","splice","relate","data","relations","toArray","d","constructor","Array","values","relation","replace","split","parentName","parentKey","childName","childKey","parentData","childData","childByParentKey","index","i","createIndex","parent","childIndex","id","pick","reduce","acc","pluck","prop","obj","yyyymmdd","getFullYear","getMonth","getDate","db","Dexie","addons","keyByAddon","this","Collection","prototype","Table","whereIn","where","inArr","anyOf","version","stores","projects","tasks","times","getStatisticsOnDay","day","ids","entities","getStatisticsBelongingToProject","projectId","taskId","getAllProjects","addProject","add","updateProject","modify","removeProject","transaction","primaryKeys","taskIds","Promise","all","delete","getTasksWithTimesBelongingToProject","addTask","updateTask","removeTask","updateTaskDailyTime","time","first","duration","today","put","useImmer","initialValue","useState","updateValue","useCallback","updater","produce","useOrderable","orderBy","items","updateItems","set","ascOrDesc","sort","sortBy","resolve","revert","firstItem","orderValue","unshift","remove","update","assign","move","direction","targetIndex","up","prevIndex","prevOrderVal","targetOrderVal","down","nextIndex","nextOrderVal","currentLocation","hash","useHashLocation","loc","setLoc","useEffect","handler","addEventListener","removeEventListener","createModel","definition","allowed","required","defaults","assignDefaults","array1","array2","fieldsLacking","includes","Error","uuid","random","TaskModel","title","order","Container","useLocation","setLocation","projectMethods","project","repository","firstProject","secondProject","newProject","Project","Projects","redirect","path","moveProject","createProject","onClick","last","className","confirm","handleDelete","on","el","events","name","off","State","watchers","fresh","f","watch","watchersObj","push","Estimate","seconds","ref","useRef","$el","emitEvent","CONFIG","hours","minutes","Number","selected","updateState","stateChange","view","watchState","select","actions","what","newHours","newMinutes","selectionStart","selectionEnd","start","end","setSelectionRange","setTimeout","indexOf","registerEvents","click","blur","keydown","preventDefault","proxy","ArrowUp","ArrowDown","Tab","isNaN","numPress","wheel","wheelDelta","wheelUp","wheelDown","tab","number","last2Digits","String","unregisterEvents","durationPicker","current","timeToSecs","defaultValue","NotFound","estimate","ChildListObserver","children","onInsert","MutationObserver","mutations","observe","childList","React","createElement","params","tasksMethods","activeTaskIndex","updateActiveTaskIndex","mapData","task","timeId","total","isToday","firstTask","secondTask","newTask","Task","callback","delay","savedCallback","setInterval","clearInterval","useInterval","Tasks","moveTask","createTask","activateTask","deactivateTask","currentlyActive","handleCreate","querySelector","focus","active","onKeyPress","setDay","updateProjects","updateTotal","totalTime","ByDay","onDayChange","renderTask","renderProject","taskTimesByDay","xs","rv","x","ByProject","Statistics","App","hook","component","ProjectsPage","StatisticsPage","TasksPage","ReactDOM","render","document","getElementById","URL","process","href","origin","fetch","response","contentType","headers","get","status","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.7fffeea7.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n)\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href)\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config)\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          )\r\n        })\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config)\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then((registration) => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing\r\n        if (installingWorker == null) {\r\n          return\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              )\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration)\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.')\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration)\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    })\r\n    .catch((error) => {\r\n      console.error('Error during service worker registration:', error)\r\n    })\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then((response) => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type')\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then((registration) => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload()\r\n          })\r\n        })\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config)\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      )\r\n    })\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then((registration) => {\r\n      registration.unregister()\r\n    })\r\n  }\r\n}\r\n","import React from 'react'\r\n\r\nexport default function Input({ onChange, type = 'text', ...props }) {\r\n  return (\r\n    <input type={type} {...props} onChange={(e) => onChange(e.target.value)} />\r\n  )\r\n}\r\n","export const padZero = (val, n) =>\r\n  val.toString().length > n ? val : ('0' + val).slice(n * -1)\r\n\r\nexport const startOfDay = (date) =>\r\n  new Date(new Date(date).setHours(0, 0, 0, 0))\r\n\r\nexport const secsToTime = (secs) => {\r\n  const mm = new Date(startOfDay(new Date()).getTime() + secs * 1000)\r\n    .toString()\r\n    .substr(19, 2)\r\n  const hh = padZero(Math.floor(secs / 60 / 60), 2)\r\n\r\n  return [hh, mm].join(':')\r\n}\r\n\r\nexport function keyBy(collection, key) {\r\n  const result = {}\r\n  collection.forEach((item) => {\r\n    result[item[key]] = item\r\n  })\r\n  return result\r\n}\r\n\r\nexport const classes = (...args) => {\r\n  return args\r\n    .map((arg) => {\r\n      if (arg === null || arg === undefined) return null\r\n      return typeof arg === 'string'\r\n        ? arg\r\n        : Object.keys(arg)\r\n            .filter((key) => arg[key])\r\n            .join(' ')\r\n    })\r\n    .filter(Boolean)\r\n    .join(' ')\r\n}\r\n\r\nconst sortStrategies = {\r\n  asc: (a, b) => (a - b > 0 ? 1 : -1),\r\n  desc: (a, b) => (a - b < 0 ? 1 : -1),\r\n}\r\n\r\nexport const sortByKey = (obj, ascOrDesc) => {\r\n  return Object.keys(obj)\r\n    .sort((a, b) => sortStrategies[ascOrDesc](a, b))\r\n    .reduce((acc, key) => ({ ...acc, [key]: obj[key] }), {})\r\n}\r\n\r\nexport const sortBy = (arr, key = false, ascOrDesc = 'asc') => {\r\n  return [...arr].sort((a, b) =>\r\n    sortStrategies[ascOrDesc](key ? a[key] : a, key ? b[key] : b)\r\n  )\r\n}\r\n\r\nexport function arraySwap(arr, from, to) {\r\n  arr.splice(from, 1, arr.splice(to, 1, arr[from])[0])\r\n}\r\n\r\nconst createIndex = (arr, key) => {\r\n  const index = {}\r\n  arr.forEach((item, i) => {\r\n    index[item[key]] = index[item[key]] ? [...index[item[key]], i] : [i]\r\n  })\r\n  return index\r\n}\r\n\r\nexport const relate = (data, relations) => {\r\n  const toArray = (d) => (d.constructor === Array ? d : Object.values(d))\r\n\r\n  relations.forEach((relation) => {\r\n    relation = relation.replace(/ +?/g, '').split('->')\r\n    const [\r\n      [parentName, parentKey],\r\n      [childName, childKey],\r\n    ] = relation.map((item) => item.split('.'))\r\n\r\n    const parentData = toArray(data[parentName])\r\n    const childData = toArray(data[childName])\r\n\r\n    const childByParentKey = createIndex(childData, childKey)\r\n\r\n    parentData.forEach((parent, i) => {\r\n      parent[childName] = (childByParentKey[parent[parentKey]] || []).map(\r\n        (childIndex) => childData[childIndex].id\r\n      )\r\n    })\r\n  })\r\n}\r\n\r\nexport const pick = (props, keys) =>\r\n  keys.reduce((acc, key) => {\r\n    return { ...acc, [key]: props[key] }\r\n  }, {})\r\n\r\nexport const pluck = (arr, prop) => {\r\n  if (arr.constructor !== Array) arr = Object.values(arr)\r\n  return arr.map((obj) => obj[prop])\r\n}\r\n\r\nexport const intersect = (array1, array2) =>\r\n  array1.filter((value) => !array2.includes(value))\r\n\r\nexport const groupBy = (xs, key) =>\r\n  xs.reduce(function (rv, x) {\r\n    ;(rv[x[key]] = rv[x[key]] || []).push(x)\r\n    return rv\r\n  }, {})\r\n\r\nexport const yyyymmdd = (d) =>\r\n  `${d.getFullYear()}-${('0' + (d.getMonth() + 1)).slice(-2)}-${(\r\n    '0' + d.getDate()\r\n  ).slice(-2)}`\r\n","import Dexie from 'dexie'\r\nimport { keyBy } from 'utils'\r\n\r\nconst addKeyBy = (db) => {\r\n  const keyByAddon = async function (key) {\r\n    return keyBy(await this.toArray(), key)\r\n  }\r\n  db.Collection.prototype.keyBy = keyByAddon\r\n  db.Table.prototype.keyBy = keyByAddon\r\n}\r\n\r\nconst addWhereIn = (db) => {\r\n  db.Table.prototype.whereIn = function (where) {\r\n    const key = Object.keys(where)[0]\r\n    const inArr = where[key]\r\n    return this.where(key).anyOf(inArr)\r\n  }\r\n}\r\n\r\nconst db = new Dexie('db', { addons: [addKeyBy, addWhereIn] })\r\n\r\ndb.version(1).stores({\r\n  projects: 'id, title', // order\r\n  tasks: 'id, projectId', // title, estimate, order\r\n  times: '++id, day, taskId', // duration\r\n})\r\n\r\nexport default db\r\n","import db from './db'\r\nimport { startOfDay, relate, pick, pluck } from 'utils'\r\n\r\nexport default {\r\n  getStatisticsOnDay: async (day) => {\r\n    day = startOfDay(day).getTime()\r\n\r\n    const times = await db.times.where({ day }).keyBy('id')\r\n    const tasks = await db.tasks\r\n      .whereIn({ id: pluck(times, 'taskId') })\r\n      .keyBy('id')\r\n    const projects = await db.projects\r\n      .whereIn({\r\n        id: pluck(tasks, 'projectId'),\r\n      })\r\n      .keyBy('id')\r\n\r\n    relate({ projects, tasks, times }, [\r\n      'projects.id -> tasks.projectId',\r\n      'tasks.id -> times.taskId',\r\n    ])\r\n\r\n    return {\r\n      ids: Object.keys(projects),\r\n      entities: { projects, tasks, times },\r\n    }\r\n  },\r\n  getStatisticsBelongingToProject: async (projectId) => {\r\n    const projects = await db.projects.where({ id: projectId }).keyBy('id')\r\n    const tasks = await db.tasks.where({ projectId }).keyBy('id')\r\n    const times = await db.times\r\n      .whereIn({ taskId: pluck(tasks, 'id') })\r\n      .keyBy('id')\r\n\r\n    relate({ projects, tasks, times }, [\r\n      'projects.id -> tasks.projectId',\r\n      'tasks.id -> times.taskId',\r\n    ])\r\n\r\n    return {\r\n      ids: Object.keys(projects),\r\n      entities: { projects, tasks, times },\r\n    }\r\n  },\r\n  getAllProjects: () => db.projects.toArray(),\r\n  addProject: (props) => {\r\n    return db.projects.add(props)\r\n  },\r\n  updateProject({ id, ...props }) {\r\n    return db.projects.where({ id }).modify(props)\r\n  },\r\n  removeProject({ id }) {\r\n    return db.transaction('rw', db.projects, db.tasks, db.times, async () => {\r\n      const taskIds = await db.tasks.where({ projectId: id }).primaryKeys()\r\n      return Promise.all([\r\n        db.projects.delete(id),\r\n        db.tasks.whereIn({ id: taskIds }).delete(),\r\n        db.times.whereIn({ taskId: taskIds }).delete(),\r\n      ])\r\n    })\r\n  },\r\n\r\n  async getTasksWithTimesBelongingToProject(projectId) {\r\n    const projects = await db.projects.where({ id: projectId }).keyBy('id')\r\n    const tasks = await db.tasks.where({ projectId }).keyBy('id')\r\n    const times = await db.times\r\n      .whereIn({ taskId: Object.keys(tasks) })\r\n      .keyBy('id')\r\n\r\n    relate({ projects, tasks, times }, [\r\n      'projects.id -> tasks.projectId',\r\n      'tasks.id -> times.taskId',\r\n    ])\r\n\r\n    return {\r\n      ids: Object.keys(projects),\r\n      entities: { projects, tasks, times },\r\n    }\r\n  },\r\n\r\n  addTask(props) {\r\n    return db.tasks.add(props)\r\n  },\r\n\r\n  updateTask({ id, ...props }) {\r\n    return db.tasks\r\n      .where({ id })\r\n      .modify(pick(props, ['estimate', 'order', 'title', 'projectId']))\r\n  },\r\n  removeTask({ id }) {\r\n    return db.transaction('rw', db.tasks, db.times, async () => {\r\n      return Promise.all([\r\n        db.tasks.delete(id),\r\n        db.times.where({ taskId: id }).delete(),\r\n      ])\r\n    })\r\n  },\r\n  async updateTaskDailyTime({ id: taskId, time }) {\r\n    const day = startOfDay(new Date()).getTime()\r\n    const existing = await db.times.where({ taskId, day }).first()\r\n\r\n    return existing\r\n      ? await db.times.where({ day, taskId }).modify({ duration: time.today })\r\n      : await db.times.put({ day, duration: time.today, taskId })\r\n  },\r\n}\r\n","import { useCallback, useState, useRef, useEffect } from 'react'\r\nimport produce from 'immer'\r\nimport { sortBy, arraySwap } from 'utils'\r\n\r\nexport function useImmer(initialValue) {\r\n  const [val, updateValue] = useState(initialValue)\r\n  return [\r\n    val,\r\n    useCallback((updater) => {\r\n      updateValue(\r\n        produce(typeof updater === 'function' ? updater : () => updater)\r\n      )\r\n    }, []),\r\n  ]\r\n}\r\n\r\nexport function useInterval(callback, delay) {\r\n  const savedCallback = useRef()\r\n\r\n  useEffect(() => {\r\n    savedCallback.current = callback\r\n  }, [callback])\r\n\r\n  useEffect(() => {\r\n    const tick = () => savedCallback.current()\r\n    if (delay) {\r\n      let id = setInterval(tick, delay)\r\n      return () => clearInterval(id)\r\n    }\r\n  }, [delay])\r\n}\r\n\r\nexport const useOrderable = (orderBy) => {\r\n  const [items, updateItems] = useImmer([])\r\n\r\n  function set(data) {\r\n    updateItems(sortBy(data, orderBy, 'desc'))\r\n  }\r\n  function add(props) {\r\n    return new Promise((resolve) => {\r\n      const revert = () => updateItems(() => items)\r\n      updateItems((items) => {\r\n        const firstItem = items[0]\r\n        const orderValue = firstItem ? firstItem[orderBy] + 1 : 0\r\n        const item = { ...props, [orderBy]: orderValue }\r\n        items.unshift(item)\r\n        resolve([orderValue, revert])\r\n      })\r\n    })\r\n  }\r\n  function remove(index) {\r\n    const revert = () => updateItems(() => items)\r\n    return new Promise((resolve) => {\r\n      updateItems((items) => {\r\n        const item = items[index]\r\n        items.splice(index, 1)\r\n        resolve([{ ...item }, revert])\r\n      })\r\n    })\r\n  }\r\n  function update(index, props) {\r\n    const revert = () => updateItems(() => items)\r\n    return new Promise((resolve) => {\r\n      updateItems((items) => {\r\n        Object.assign(items[index], props)\r\n        resolve([{ ...items[index] }, revert])\r\n      })\r\n    })\r\n  }\r\n  function move(direction, targetIndex) {\r\n    const revert = () => updateItems(() => items)\r\n    return new Promise((resolve) => {\r\n      const strategy = {\r\n        up: () =>\r\n          targetIndex > 0 &&\r\n          updateItems((items) => {\r\n            const prevIndex = targetIndex - 1\r\n            const prevOrderVal = items[prevIndex][orderBy]\r\n            const targetOrderVal = items[targetIndex][orderBy]\r\n            items[prevIndex][orderBy] = targetOrderVal\r\n            items[targetIndex][orderBy] = prevOrderVal\r\n            arraySwap(items, targetIndex, prevIndex)\r\n            resolve([\r\n              { ...items[targetIndex] },\r\n              { ...items[prevIndex] },\r\n              revert,\r\n            ])\r\n          }),\r\n        down: () =>\r\n          targetIndex < items.length - 1 &&\r\n          updateItems((items) => {\r\n            const nextIndex = targetIndex + 1\r\n            const nextOrderVal = items[nextIndex][orderBy]\r\n            const targetOrderVal = items[targetIndex][orderBy]\r\n            items[nextIndex][orderBy] = targetOrderVal\r\n            items[targetIndex][orderBy] = nextOrderVal\r\n            arraySwap(items, targetIndex, nextIndex)\r\n            resolve([\r\n              { ...items[targetIndex] },\r\n              { ...items[nextIndex] },\r\n              revert,\r\n            ])\r\n          }),\r\n      }[direction]()\r\n    })\r\n  }\r\n\r\n  return [items, { set, add, remove, update, move }]\r\n}\r\n\r\nconst currentLocation = () => {\r\n  return window.location.hash.replace(/^#/, '') || '/'\r\n}\r\n\r\nexport const useHashLocation = () => {\r\n  const [loc, setLoc] = useState(currentLocation())\r\n\r\n  useEffect(() => {\r\n    const handler = () => setLoc(currentLocation())\r\n\r\n    window.addEventListener('hashchange', handler)\r\n    return () => window.removeEventListener('hashchange', handler)\r\n  }, [])\r\n\r\n  const navigate = useCallback((to) => (window.location.hash = to), [])\r\n\r\n  return [loc, navigate]\r\n}\r\n","import { pick, intersect } from 'utils'\r\n\r\nexport function createModel(definition) {\r\n  const allowed = Object.keys(definition)\r\n  const required = Object.keys(definition).filter(\r\n    (key) => definition[key] === true\r\n  )\r\n  const defaults = pick(\r\n    definition,\r\n    Object.keys(definition).filter((key) => definition[key] !== true)\r\n  )\r\n\r\n  function assignDefaults(props) {\r\n    props = Object.assign({}, defaults, props)\r\n    for (let key in props)\r\n      if (typeof props[key] === 'function') props[key] = props[key]()\r\n    return props\r\n  }\r\n\r\n  return function (props) {\r\n    props = assignDefaults(props)\r\n    const fieldsLacking = intersect(required, Object.keys(props))\r\n    if (fieldsLacking.length)\r\n      throw new Error(`Fields { ${fieldsLacking.join(', ')} } are lacking!`)\r\n    return pick(props, allowed)\r\n  }\r\n}\r\n\r\nexport function uuid(a) {\r\n  return a\r\n    ? (a ^ ((Math.random() * 16) >> (a / 4))).toString(16)\r\n    : ([1e7] + -1e3 + -4e3 + -8e3 + -1e11).replace(/[018]/g, uuid)\r\n}\r\n","import { createModel, uuid } from './utils'\r\n\r\nconst TaskModel = createModel({\r\n  id: () => uuid(),\r\n  title: '',\r\n  order: null,\r\n})\r\n\r\nexport default TaskModel\r\n","import React, { useEffect } from 'react'\r\nimport Input from 'components/Input'\r\nimport repository from 'db/repository'\r\nimport { useOrderable } from 'hooks'\r\nimport { useLocation } from 'wouter'\r\nimport Project from 'db/models/ProjectModel'\r\n\r\nexport default function Container() {\r\n  const [_, setLocation] = useLocation()\r\n  const [projects, projectMethods] = useOrderable('order')\r\n\r\n  useEffect(() => {\r\n    ;(async function () {\r\n      projectMethods.set(await repository.getAllProjects())\r\n    })()\r\n  }, [])\r\n\r\n  async function removeProject(index) {\r\n    const [project, revert] = await projectMethods.remove(index)\r\n    repository.removeProject(project).catch(revert)\r\n  }\r\n  async function updateProject(index, props) {\r\n    const [project, revert] = await projectMethods.update(index, props)\r\n    repository.updateProject(project).catch(revert)\r\n  }\r\n  async function moveProject(direction, index) {\r\n    const [firstProject, secondProject, revert] = await projectMethods.move(\r\n      direction,\r\n      index\r\n    )\r\n    return Promise.all([\r\n      repository.updateProject(firstProject),\r\n      repository.updateProject(secondProject),\r\n    ]).catch(revert)\r\n  }\r\n  async function createProject() {\r\n    const newProject = new Project()\r\n    const [order, revert] = await projectMethods.add(newProject)\r\n    return repository.addProject({ ...newProject, order }).catch(revert)\r\n  }\r\n\r\n  const redirect = (path) => setLocation(path)\r\n\r\n  return (\r\n    <Projects\r\n      {...{\r\n        projects,\r\n        redirect,\r\n        removeProject,\r\n        updateProject,\r\n        moveProject,\r\n        createProject,\r\n      }}\r\n    />\r\n  )\r\n}\r\n\r\nfunction Projects({\r\n  projects,\r\n  redirect,\r\n  removeProject,\r\n  updateProject,\r\n  moveProject,\r\n  createProject,\r\n}) {\r\n  function handleAddNew() {\r\n    const last = projects[projects.length - 1]\r\n    if (!last || last.title !== '') createProject()\r\n  }\r\n\r\n  function handleDelete(index) {\r\n    if (window.confirm('Are you sure you want to delete this project?')) {\r\n      removeProject(index)\r\n    }\r\n  }\r\n\r\n  function renderProject({ id, title }, index) {\r\n    return (\r\n      <div key={id} className=\"row\">\r\n        <div>\r\n          <button onClick={() => moveProject('up', index)} className=\"up\">\r\n            ↑\r\n          </button>\r\n          <button onClick={() => moveProject('down', index)} className=\"down\">\r\n            ↓\r\n          </button>\r\n        </div>\r\n        <div>\r\n          <Input\r\n            value={title}\r\n            onChange={(title) => updateProject(index, { title })}\r\n          />\r\n        </div>\r\n        <div>\r\n          <button onClick={() => redirect('/' + id)}>>></button>\r\n        </div>\r\n        <div>\r\n          <button onClick={() => redirect('/statistics/' + id)}>stats</button>\r\n        </div>\r\n        <div>\r\n          <button onClick={() => handleDelete(index)}>X</button>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <button onClick={() => redirect('/statistics')}>Stats by day</button>\r\n      <br />\r\n      <br />\r\n      <button onClick={handleAddNew}>Add</button>\r\n      {projects.length ? (\r\n        <div className=\"list project-list\">{projects.map(renderProject)}</div>\r\n      ) : (\r\n        <p>No projects created yet.</p>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n","export const on = (el, events) => {\r\n  for (let name in events) el.addEventListener(name, events[name])\r\n}\r\n\r\nexport const off = (el, events) => {\r\n  for (let name in events) el.removeEventListener(name, events[name])\r\n}\r\n\r\nexport function State(state = {}) {\r\n  const watchers = {}\r\n\r\n  const update = (fresh) => {\r\n    for (let key in fresh) {\r\n      if (state[key] !== fresh[key]) {\r\n        state[key] = fresh[key]\r\n        watchers[key] && watchers[key].forEach((f) => f(fresh[key]))\r\n      }\r\n    }\r\n  }\r\n\r\n  const watch = (watchersObj) => {\r\n    for (let prop in watchersObj) {\r\n      watchers[prop]\r\n        ? watchers[prop].push(watchersObj[prop])\r\n        : (watchers[prop] = [watchersObj[prop]])\r\n    }\r\n  }\r\n\r\n  return [state, update, watch]\r\n}\r\n","import React, { useRef, useEffect } from 'react'\r\nimport { secsToTime } from 'utils'\r\nimport durationPicker from './durationPicker/durationPicker'\r\n\r\nfunction timeToSecs(time) {\r\n  const [hours, minutes] = time.split(':').map(Number)\r\n  return hours * 60 * 60 + minutes * 60\r\n}\r\n\r\nexport default function Estimate({ value: seconds, onChange }) {\r\n  const ref = useRef()\r\n\r\n  useEffect(() => {\r\n    return durationPicker(ref.current, {\r\n      onChange: (time) => onChange(timeToSecs(time)),\r\n    })\r\n  }, [])\r\n\r\n  return <input type=\"text\" ref={ref} defaultValue={secsToTime(seconds)} />\r\n}\r\n","import { padZero } from 'utils'\r\nimport { on, off, State } from './utils'\r\n\r\nexport default function durationPicker($el, emitEvent) {\r\n  const CONFIG = {\r\n    increment: {\r\n      hours: 1,\r\n      minutes: 5,\r\n    },\r\n  }\r\n\r\n  const [hours, minutes] = $el.value ? $el.value.split(':').map(Number) : [0, 0]\r\n\r\n  const [state, updateState, watchState] = new State({\r\n    hours,\r\n    minutes,\r\n    selected: null,\r\n  })\r\n\r\n  function stateChange() {\r\n    view.updateValue()\r\n    emitEvent.onChange(getTime())\r\n  }\r\n\r\n  watchState({\r\n    hours: stateChange,\r\n    minutes: stateChange,\r\n    selected: (selected) => view.select(selected),\r\n  })\r\n\r\n  const actions = {\r\n    increment(what) {\r\n      if (what === 'hours') {\r\n        const newHours = state.hours + CONFIG.increment.hours\r\n        newHours <= 99\r\n          ? updateState({ hours: newHours })\r\n          : updateState({ hours: 0 })\r\n      } else if (what === 'minutes') {\r\n        const newMinutes = state.minutes + CONFIG.increment.minutes\r\n        newMinutes < 60\r\n          ? updateState({ minutes: newMinutes })\r\n          : updateState({ minutes: 0 })\r\n      }\r\n    },\r\n\r\n    decrement(what) {\r\n      if (what === 'minutes') {\r\n        const newMinutes = state.minutes - CONFIG.increment.minutes\r\n        newMinutes >= 0\r\n          ? updateState({ minutes: newMinutes })\r\n          : updateState({ minutes: 60 + newMinutes })\r\n      } else if (what === 'hours') {\r\n        const newHours = state.hours - CONFIG.increment.hours\r\n        newHours >= 0\r\n          ? updateState({ hours: newHours })\r\n          : updateState({ hours: 99 })\r\n      }\r\n    },\r\n\r\n    switchSelected() {\r\n      updateState({\r\n        selected: state.selected === 'hours' ? 'minutes' : 'hours',\r\n      })\r\n    },\r\n  }\r\n\r\n  const getTime = () =>\r\n    `${padZero(state.hours, 2)}:${padZero(state.minutes, 2)}`\r\n\r\n  const view = {\r\n    updateValue() {\r\n      const [start, end] = [$el.selectionStart, $el.selectionEnd]\r\n      $el.value = `${getTime()}`\r\n      $el.setSelectionRange(start, end)\r\n    },\r\n\r\n    select(what) {\r\n      const strategy = {\r\n        minutes: () =>\r\n          $el.setSelectionRange($el.value.indexOf(':') + 1, $el.value.length),\r\n        hours: () => $el.setSelectionRange(0, $el.value.indexOf(':')),\r\n      }[what]\r\n\r\n      setTimeout(strategy)\r\n    },\r\n\r\n    registerEvents() {\r\n      const click = () => events.click()\r\n      const blur = () => events.blur()\r\n\r\n      function keydown(e) {\r\n        e.preventDefault()\r\n        const proxy = {\r\n          ArrowUp: 'up',\r\n          ArrowDown: 'down',\r\n          Tab: 'tab',\r\n        }\r\n\r\n        proxy[e.key]\r\n          ? events[proxy[e.key]](e.key)\r\n          : !isNaN(e.key) && events.numPress(e.key)\r\n      }\r\n\r\n      function wheel(e) {\r\n        if (state.selected) {\r\n          e.wheelDelta > 0 ? events.wheelUp() : events.wheelDown()\r\n        }\r\n      }\r\n\r\n      on($el, { click, keydown, blur })\r\n      on(window, { wheel })\r\n\r\n      return () => {\r\n        off($el, { click, keydown, blur })\r\n        off(window, { wheel })\r\n      }\r\n    },\r\n  }\r\n\r\n  const events = {\r\n    click: () => {\r\n      setTimeout(() => {\r\n        const selected =\r\n          $el.selectionStart > $el.value.indexOf(':') ? 'minutes' : 'hours'\r\n        updateState({ selected })\r\n        view.select(selected)\r\n      })\r\n    },\r\n    blur: () => updateState({ selected: null }),\r\n    up: () => actions.increment(state.selected),\r\n    down: () => actions.decrement(state.selected),\r\n    tab: () => actions.switchSelected(),\r\n    numPress: (number) => {\r\n      const last2Digits = (val) => val.slice(-2)\r\n\r\n      const strategy = {\r\n        hours: () => {\r\n          updateState({ hours: Number(last2Digits(state.hours + number)) })\r\n        },\r\n        minutes: () => {\r\n          const newMinutes = Number(last2Digits(state.minutes + number), 2)\r\n          newMinutes <= 60\r\n            ? updateState({ minutes: newMinutes })\r\n            : updateState({ minutes: '0' + String(newMinutes)[1] })\r\n        },\r\n      }[state.selected]()\r\n    },\r\n    wheelUp: () => actions.increment(state.selected),\r\n    wheelDown: () => actions.decrement(state.selected),\r\n  }\r\n\r\n  const unregisterEvents = view.registerEvents()\r\n\r\n  function destroy() {\r\n    unregisterEvents()\r\n  }\r\n\r\n  return destroy\r\n}\r\n","import React from 'react'\r\n\r\nexport default function NotFound() {\r\n  return <h3>Resource not found!</h3>\r\n}\r\n","import { createModel, uuid } from './utils'\r\n\r\nconst TaskModel = createModel({\r\n  id: () => uuid(),\r\n  projectId: true,\r\n  title: '',\r\n  estimate: 0,\r\n  order: null,\r\n})\r\n\r\nexport default TaskModel\r\n","import React, { useEffect, useRef } from 'react'\r\n\r\nexport default function ChildListObserver({\r\n  type = 'div',\r\n  children,\r\n  onInsert,\r\n  ...props\r\n}) {\r\n  const ref = useRef()\r\n\r\n  useEffect(() => {\r\n    const observer = new MutationObserver((mutations) =>\r\n      onInsert(mutations, ref.current)\r\n    )\r\n    observer.observe(ref.current, { childList: true })\r\n  }, [])\r\n\r\n  return React.createElement(type, { ref, ...props }, children)\r\n}\r\n","import React, { useEffect } from 'react'\r\nimport Estimate from 'components/Estimate/Estimate'\r\nimport Input from 'components/Input'\r\nimport NotFound from 'components/NotFound'\r\nimport { classes, secsToTime, startOfDay } from 'utils'\r\nimport { useLocation } from 'wouter'\r\nimport { useInterval, useImmer, useOrderable } from 'hooks'\r\nimport repository from 'db/repository'\r\nimport Task from 'db/models/TaskModel'\r\nimport ChildListObserver from 'components/ChildListObserver'\r\n\r\nexport default function Container({ params: { projectId } }) {\r\n  const [_, setLocation] = useLocation()\r\n  const [project, updateProject] = useImmer({})\r\n  const [tasks, tasksMethods] = useOrderable('order')\r\n  const [activeTaskIndex, updateActiveTaskIndex] = useImmer(null)\r\n\r\n  function mapData({ ids, entities }) {\r\n    const isToday = (time) => time.day === startOfDay(new Date()).getTime()\r\n    const project = entities.projects[ids[0]]\r\n\r\n    if (!project) return { project: null, tasks: [] }\r\n\r\n    const tasks = project.tasks.map((id) => {\r\n      const task = entities.tasks[id]\r\n      task.time = task.times.reduce(\r\n        ({ total, today }, timeId) => {\r\n          const time = entities.times[timeId]\r\n          if (isToday(time)) {\r\n            return {\r\n              total: total + time.duration,\r\n              today: today + time.duration,\r\n            }\r\n          } else {\r\n            return { total: total + time.duration, today }\r\n          }\r\n        },\r\n        { total: 0, today: 0 }\r\n      )\r\n\r\n      delete task.times\r\n      return task\r\n    })\r\n\r\n    return { project, tasks }\r\n  }\r\n\r\n  useEffect(() => {\r\n    ;(async function () {\r\n      const { project, tasks } = mapData(\r\n        await repository.getTasksWithTimesBelongingToProject(projectId)\r\n      )\r\n      tasksMethods.set(tasks)\r\n      updateProject(project)\r\n    })()\r\n  }, [])\r\n\r\n  useInterval(updateActiveTaskTime, activeTaskIndex !== null && 1000)\r\n\r\n  async function updateActiveTaskTime() {\r\n    const time = tasks[activeTaskIndex].time\r\n    const [task, revert] = await tasksMethods.update(activeTaskIndex, {\r\n      time: {\r\n        today: time.today + 1,\r\n        total: time.total + 1,\r\n      },\r\n    })\r\n\r\n    return repository.updateTaskDailyTime(task).catch(revert)\r\n  }\r\n\r\n  async function updateTask(index, props) {\r\n    const [task, revert] = await tasksMethods.update(index, props)\r\n    return repository.updateTask(task).catch(revert)\r\n  }\r\n\r\n  async function moveTask(direction, index) {\r\n    const [firstTask, secondTask, revert] = await tasksMethods.move(\r\n      direction,\r\n      index\r\n    )\r\n    return Promise.all([\r\n      repository.updateTask(firstTask),\r\n      repository.updateTask(secondTask),\r\n    ]).catch(revert)\r\n  }\r\n\r\n  async function removeTask(index) {\r\n    const [item, revert] = await tasksMethods.remove(index)\r\n    if (index === activeTaskIndex) updateActiveTaskIndex(() => null)\r\n    return repository.removeTask(item).catch(revert)\r\n  }\r\n\r\n  async function createTask() {\r\n    const newTask = new Task({ projectId })\r\n    const [order, revert] = await tasksMethods.add({\r\n      ...newTask,\r\n      time: { total: 0, today: 0 },\r\n    })\r\n    return repository.addTask({ ...newTask, order }).catch(revert)\r\n  }\r\n\r\n  const redirect = (path) => setLocation(path)\r\n\r\n  const activateTask = (index) => updateActiveTaskIndex(() => index)\r\n  const deactivateTask = (index) =>\r\n    updateActiveTaskIndex((currentlyActive) =>\r\n      currentlyActive === index ? null : index\r\n    )\r\n\r\n  return project ? (\r\n    <Tasks\r\n      {...{\r\n        redirect,\r\n        project,\r\n        tasks,\r\n        updateTask,\r\n        moveTask,\r\n        createTask,\r\n        removeTask,\r\n        activeTaskIndex,\r\n        activateTask,\r\n        deactivateTask,\r\n      }}\r\n    />\r\n  ) : (\r\n    <NotFound />\r\n  )\r\n}\r\n\r\nfunction Tasks({\r\n  redirect,\r\n  project,\r\n  tasks,\r\n  updateTask,\r\n  moveTask,\r\n  createTask,\r\n  removeTask,\r\n  activeTaskIndex,\r\n  activateTask,\r\n  deactivateTask,\r\n}) {\r\n  function handleCreate() {\r\n    if (tasks.length === 0 || tasks[0].title) createTask()\r\n  }\r\n\r\n  function focusFirstTask(mutations, target) {\r\n    target.children[0].querySelector('.task-title input').focus()\r\n  }\r\n\r\n  function renderTask(task, index) {\r\n    const { id, title, estimate, time } = task\r\n    const active = activeTaskIndex === index\r\n\r\n    return (\r\n      <div key={id} className={classes('row', { active })}>\r\n        <div>\r\n          <button onClick={() => moveTask('up', index)} className=\"up\">\r\n            ↑\r\n          </button>\r\n          <button onClick={() => moveTask('down', index)} className=\"down\">\r\n            ↓\r\n          </button>\r\n        </div>\r\n        <div className=\"task-title\">\r\n          <Input\r\n            value={title}\r\n            onChange={(title) => updateTask(index, { title })}\r\n            onKeyPress={(e) =>\r\n              index === 0 && e.key === 'Enter' && handleCreate()\r\n            }\r\n          />\r\n        </div>\r\n        <div>\r\n          <Estimate\r\n            value={estimate}\r\n            onChange={(estimate) => updateTask(index, { estimate })}\r\n          />\r\n        </div>\r\n        <div>\r\n          <button\r\n            className=\"time\"\r\n            onClick={() =>\r\n              active ? deactivateTask(index) : activateTask(index)\r\n            }\r\n          >\r\n            {secsToTime(time.total)}\r\n          </button>\r\n        </div>\r\n        <div>\r\n          <button onClick={() => removeTask(index)}>X</button>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <button onClick={() => redirect('/')}>{'<<<<'}</button>\r\n      <button onClick={() => redirect(`/statistics/${project.id}`)}>\r\n        stats\r\n      </button>\r\n      <br />\r\n      <br />\r\n      <h3>{project.title}</h3>\r\n      <button onClick={handleCreate}>Add new</button>\r\n      {tasks.length ? (\r\n        <ChildListObserver className=\"list task-list\" onInsert={focusFirstTask}>\r\n          {tasks.map(renderTask)}\r\n        </ChildListObserver>\r\n      ) : (\r\n        <p>No tasks created yet.</p>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport { useImmer } from 'hooks'\r\nimport repository from 'db/repository'\r\nimport { yyyymmdd, secsToTime } from 'utils'\r\n\r\nexport default function Container() {\r\n  const [day, setDay] = useState(yyyymmdd(new Date()))\r\n  const [projects, updateProjects] = useImmer([])\r\n  const [total, updateTotal] = useImmer()\r\n\r\n  function mapData({ ids, entities }) {\r\n    const projects = ids.map((projectId) => {\r\n      const tasks = entities.projects[projectId].tasks.map((taskId) => {\r\n        return {\r\n          ...entities.tasks[taskId],\r\n          totalTime: entities.tasks[taskId].times.reduce((acc, timeId) => {\r\n            return acc + entities.times[timeId].duration\r\n          }, 0),\r\n        }\r\n      })\r\n\r\n      const total = tasks.reduce((acc, task) => acc + task.totalTime, 0)\r\n\r\n      return {\r\n        ...entities.projects[projectId],\r\n        tasks,\r\n        total,\r\n      }\r\n    })\r\n\r\n    const total = projects.reduce((acc, project) => acc + project.total, 0)\r\n\r\n    return {\r\n      projects,\r\n      total,\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    ;(async function () {\r\n      if (day) {\r\n        const { projects, total } = mapData(\r\n          await repository.getStatisticsOnDay(new Date(day))\r\n        )\r\n        updateProjects(projects)\r\n        updateTotal(total)\r\n      } else {\r\n        updateProjects([])\r\n      }\r\n    })()\r\n  }, [day])\r\n\r\n  return (\r\n    <ByDay day={day} projects={projects} onDayChange={setDay} total={total} />\r\n  )\r\n}\r\n\r\nfunction ByDay({ day, projects, total, onDayChange }) {\r\n  function renderProject(project) {\r\n    return (\r\n      <div key={project.id}>\r\n        <h3>{project.title}</h3>\r\n        <table>\r\n          <thead>\r\n            <tr>\r\n              <th>task</th>\r\n              <th>time</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {project.tasks.map(renderTask)}\r\n            <tr>\r\n              <td></td>\r\n              <td>{secsToTime(project.total)}</td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  function renderTask(task) {\r\n    return (\r\n      <tr key={task.id}>\r\n        <td>{task.title}</td>\r\n        <td>{secsToTime(task.totalTime)}</td>\r\n      </tr>\r\n    )\r\n  }\r\n\r\n  return (\r\n    projects && (\r\n      <div>\r\n        <h3>Statistics for:</h3>\r\n        <input\r\n          type=\"date\"\r\n          value={day}\r\n          onChange={(e) => onDayChange(e.target.value)}\r\n        />\r\n        <small className=\"total\">{secsToTime(total)}</small>\r\n\r\n        <div>{projects.map((project) => renderProject(project))}</div>\r\n      </div>\r\n    )\r\n  )\r\n}\r\n","import React, { useEffect } from 'react'\r\nimport { useImmer } from 'hooks'\r\nimport { groupBy, yyyymmdd, secsToTime, sortByKey } from 'utils'\r\nimport repository from 'db/repository'\r\nimport NotFound from 'components/NotFound'\r\n\r\nexport default function Container({ id }) {\r\n  const [{ project, taskTimesByDay }, updateState] = useImmer({\r\n    project: null,\r\n    taskTimesByDay: {},\r\n  })\r\n\r\n  function mapData({ ids, entities }) {\r\n    const project = entities.projects[ids[0]]\r\n\r\n    const taskTimesByDay = sortByKey(\r\n      groupBy(Object.values(entities.times), 'day'),\r\n      'desc'\r\n    )\r\n\r\n    for (let day in taskTimesByDay) {\r\n      taskTimesByDay[day] = {\r\n        tasks: taskTimesByDay[day].map(({ duration, taskId }) => ({\r\n          id: taskId,\r\n          title: entities.tasks[taskId].title,\r\n          duration,\r\n        })),\r\n        total: taskTimesByDay[day].reduce(\r\n          (acc, time) => acc + time.duration,\r\n          0\r\n        ),\r\n      }\r\n    }\r\n\r\n    project.total = Object.values(taskTimesByDay).reduce(\r\n      (acc, { total }) => acc + total,\r\n      0\r\n    )\r\n\r\n    return {\r\n      project,\r\n      taskTimesByDay,\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    ;(async function () {\r\n      updateState(mapData(await repository.getStatisticsBelongingToProject(id)))\r\n    })()\r\n  }, [])\r\n\r\n  return project ? (\r\n    <ByProject project={project} taskTimesByDay={taskTimesByDay} />\r\n  ) : (\r\n    <NotFound />\r\n  )\r\n}\r\n\r\nfunction ByProject({ project, taskTimesByDay }) {\r\n  function renderTasks(tasks) {\r\n    return tasks.map((task) => {\r\n      return (\r\n        <tr key={task.id}>\r\n          <td>{task.title}</td>\r\n          <td>{secsToTime(task.duration)}</td>\r\n        </tr>\r\n      )\r\n    })\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h3>\r\n        Statistics for \"{project.title}\"\r\n        <small className=\"total\">{secsToTime(project.total)}</small>\r\n      </h3>\r\n\r\n      {Object.keys(taskTimesByDay).map((day) => {\r\n        return (\r\n          <div key={day}>\r\n            <h4>{yyyymmdd(new Date(Number(day)))} </h4>\r\n\r\n            <table>\r\n              <thead>\r\n                <tr>\r\n                  <th>task</th>\r\n                  <th>time</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {renderTasks(taskTimesByDay[day].tasks)}\r\n                <tr>\r\n                  <td></td>\r\n                  <td>{secsToTime(taskTimesByDay[day].total)}</td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        )\r\n      })}\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport ByDay from './ByDay'\r\nimport ByProject from './ByProject'\r\nimport { useLocation } from 'wouter'\r\n\r\nexport default function Statistics({ params: { projectId } }) {\r\n  const [_, setLocation] = useLocation()\r\n\r\n  return (\r\n    <div>\r\n      <button onClick={() => setLocation('/')}>{'<<<<'}</button>\r\n      {projectId ? <ByProject id={projectId} /> : <ByDay />}\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport * as serviceWorker from './serviceWorker'\r\nimport ReactDOM from 'react-dom'\r\nimport './styles.css'\r\nimport ProjectsPage from 'pages/ProjectsPage'\r\nimport TasksPage from 'pages/TasksPage'\r\nimport StatisticsPage from 'pages/StatisticsPage/StatisticsPage'\r\nimport { Router, Switch, Route } from 'wouter'\r\nimport { useHashLocation } from 'hooks'\r\n\r\nfunction App() {\r\n  return (\r\n    <Router hook={useHashLocation}>\r\n      <Switch>\r\n        <Route path=\"/\" component={ProjectsPage} />\r\n        <Route path=\"/statistics/:projectId?\" component={StatisticsPage} />\r\n        <Route path=\"/:projectId\" component={TasksPage} />\r\n      </Switch>\r\n    </Router>\r\n  )\r\n}\r\n\r\nReactDOM.render(<App />, document.getElementById('root'))\r\n\r\nserviceWorker.register()\r\n"],"sourceRoot":""}